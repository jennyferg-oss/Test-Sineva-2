<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sineva Competency & Personality Assessment</title>

  <!-- Si styles.css carga, bien. Si no, el CSS inline de abajo manda -->
  <link rel="stylesheet" href="styles.css" />

  <style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');

  :root{
    --brand: #16a34a;
    --brand-2: #22c55e;
    --brand-3: #0f766e;
    --ink: #0b1220;
    --muted: #637086;
    --bg: #f4f7fb;
    --bg-2: #eef2f7;
    --card: #ffffff;
    --line: #e6ebf2;
    --radius: 16px;
    --shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
    --shadow-strong: 0 16px 50px rgba(15, 23, 42, 0.12);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink);
    background:
      radial-gradient(900px 500px at 10% -10%, rgba(34,197,94,.12), transparent 55%),
      radial-gradient(900px 600px at 100% 0%, rgba(15,118,110,.10), transparent 55%),
      linear-gradient(180deg, var(--bg), var(--bg-2));
    min-height:100vh;
  }

  .bg-orbs{
    position:fixed; inset:0; pointer-events:none; opacity:.7;
    background:
      radial-gradient(500px 350px at 12% 12%, rgba(22,163,74,.12), transparent 60%),
      radial-gradient(600px 420px at 70% 8%, rgba(34,197,94,.10), transparent 62%),
      radial-gradient(700px 700px at 85% 85%, rgba(14,165,233,.08), transparent 60%);
    filter:blur(16px);
  }

  .app{
    width:min(1120px, 94vw);
    margin:18px auto 40px;
    position:relative;
  }

  .topbar{
    display:flex; align-items:center; justify-content:space-between;
    padding:14px 12px; margin-bottom:10px;
  }

  .brand{display:flex; align-items:center; gap:12px;}
  .logo{
    width:52px; height:52px; border-radius:14px;
    background:linear-gradient(135deg, var(--brand), var(--brand-2));
    display:grid; place-items:center; font-weight:900; font-size:20px;
    color:#fff; box-shadow:0 10px 30px rgba(22,163,74,.35);
  }
  .brand h1{margin:0; font-size:22px;}
  .brand p{margin:2px 0 0; color:var(--muted); font-size:13px;}

  .timer{
    background:#fff; border:1px solid var(--line);
    padding:8px 12px; border-radius:12px;
    display:flex; flex-direction:column; align-items:flex-end;
    box-shadow:var(--shadow); min-width:120px;
  }
  .timer-label{font-size:11px; color:var(--muted);}
  .timer-value{font-size:18px; font-weight:800; color:#081325;}

  /* ✅ FIX: pantallas visibles; solo .hidden oculta */
  .screen{display:block;}
  .hidden{display:none !important;}

  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    padding:20px;
    box-shadow:var(--shadow);
  }

  h2{margin:0 0 6px; font-size:26px;}
  h3{margin:18px 0 8px; font-size:18px;}
  .muted{color:var(--muted);}

  .form-grid{
    display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; margin-top:12px;
  }
  .form-grid label{
    display:flex; flex-direction:column; font-size:13px; gap:6px; font-weight:600;
    color:#0c1a33;
  }
  .form-grid input{
    padding:11px 12px; border-radius:12px;
    border:1px solid var(--line);
    background:#fff; color:var(--ink);
    outline:none; font-size:14px; transition:.12s ease;
  }
  .form-grid input:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 4px rgba(22,163,74,.12);
  }
  .checkbox{
    grid-column:1/-1; flex-direction:row !important; align-items:center; gap:8px;
    font-weight:500; color:var(--muted);
  }
  .checkbox input{width:18px; height:18px;}

  .actions{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap;}
  .btn{
    padding:10px 14px; border-radius:12px;
    border:1px solid transparent; font-weight:700; cursor:pointer;
    transition:.12s ease; font-size:14px;
    background:#fff; color:#0c1a33; border-color:var(--line);
  }
  .btn:hover{transform:translateY(-1px); box-shadow:var(--shadow);}
  .btn.primary{
    background:linear-gradient(135deg, var(--brand), var(--brand-2));
    color:white; border:none; box-shadow:0 10px 25px rgba(22,163,74,.25);
  }
  .btn.ghost{background:#fff; border-color:var(--line); color:#0c1a33;}
  .btn.danger{background:#fff; border-color:#fecaca; color:#b91c1c;}

  .preview{
    margin-top:14px; display:grid; grid-template-columns:repeat(5,1fr); gap:10px;
  }
  .preview .pill{
    padding:12px; border-radius:12px;
    background:#f8fafc; border:1px dashed var(--line);
    font-size:13px; color:var(--muted);
  }

  .test-header{
    display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
  }
  .progress{display:flex; align-items:center; gap:10px;}
  .progress-bar{
    width:260px; height:10px; background:#eef2f7;
    border-radius:999px; overflow:hidden; border:1px solid var(--line);
  }
  .progress-fill{
    height:100%; width:0%;
    background:linear-gradient(90deg, var(--brand), #3b82f6);
    transition:width .2s ease;
  }
  .progress-text{font-size:13px; color:var(--muted); min-width:44px;}

  .question-wrap{margin-top:10px; display:grid; gap:12px;}
  .q-card{
    padding:16px; border-radius:14px; background:#f9fbff;
    border:1px solid var(--line);
  }
  .q-meta{
    display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;
  }
  .q-num{
    font-weight:800; font-size:12px; color:#0f5132;
    background:rgba(22,163,74,.10); padding:4px 8px; border-radius:999px;
  }
  .q-tag{
    font-size:12px; color:var(--muted);
    border:1px solid var(--line); padding:3px 7px; border-radius:999px; background:#fff;
  }
  .q-text{
    font-size:16px; line-height:1.45; margin:4px 0 12px; color:#0c1a33;
  }

  .scale{
    display:grid; grid-template-columns:repeat(5,1fr); gap:8px;
  }
  .scale button{
    padding:10px 8px; border-radius:12px;
    border:1px solid var(--line); background:#fff; color:#0c1a33;
    font-weight:700; font-size:12px; cursor:pointer; min-height:48px; transition:.12s ease;
  }
  .scale button:hover{
    border-color:var(--brand);
    box-shadow:0 0 0 3px rgba(22,163,74,.10);
    transform:translateY(-1px);
  }
  .scale button.selected{
    border-color:var(--brand);
    background:rgba(22,163,74,.08);
    box-shadow:0 0 0 3px rgba(22,163,74,.12);
  }

  .nav{display:flex; justify-content:space-between; margin-top:14px;}

  .results-header{
    display:flex; justify-content:space-between; align-items:flex-start; gap:12px; flex-wrap:wrap;
  }
  .results-grid{
    display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-top:8px;
  }
  .result-card{
    padding:16px; border-radius:14px; background:#fff;
    border:1px solid var(--line); box-shadow:var(--shadow);
  }
  .result-head{display:flex; justify-content:space-between; align-items:center;}
  .result-title{font-weight:800; color:#0c1a33;}
  .result-score{font-weight:900; color:#0c1a33;}

  .result-bar{
    margin-top:8px; height:10px; background:#eef2f7;
    border-radius:999px; overflow:hidden; border:1px solid var(--line);
  }
  .result-bar > div{
    height:100%; width:0%;
    background:linear-gradient(90deg, #60a5fa, var(--brand));
  }
  .result-explain{margin-top:8px; font-size:14px; color:#243041; line-height:1.5;}

  .note{
    margin-top:14px; padding:12px; border-radius:12px;
    background:rgba(22,163,74,.08); border:1px solid rgba(22,163,74,.25);
    color:#0f5132; font-size:14px;
  }

  .modal{
    position:fixed; inset:0; display:grid; place-items:center;
    background:rgba(15,23,42,.45); z-index:50;
  }
  .modal-card{
    width:min(420px, 92vw); background:#fff;
    padding:18px; border-radius:16px; border:1px solid var(--line);
    box-shadow:var(--shadow-strong); text-align:center;
  }

  .footer{margin-top:14px; text-align:center; font-size:12px; color:var(--muted);}

  @media (max-width:900px){
    .form-grid{grid-template-columns:1fr;}
    .results-grid{grid-template-columns:1fr;}
    .progress-bar{width:180px;}
    .preview{grid-template-columns:1fr 1fr;}
  }
  </style>
</head>

<body>
  <div class="bg-orbs"></div>

  <main class="app">

    <header class="topbar">
      <div class="brand">
        <div class="logo">S</div>
        <div>
          <h1>Sineva Assessment</h1>
          <p>Competencies + Big Five Personality</p>
        </div>
      </div>

      <div class="timer hidden" id="timerWrap">
        <span class="timer-label">Elapsed</span>
        <span class="timer-value" id="timer">00:00</span>
      </div>
    </header>

    <section id="startScreen" class="card screen">
      <h2>Welcome!</h2>
      <p class="muted">
        Please complete this assessment in one sitting.
        Your results help us understand your strengths, working style, and role alignment.
      </p>

      <form id="candidateForm" class="form-grid">
        <label>
          Full name
          <input required type="text" id="fullName" placeholder="e.g., Alex Johnson"/>
        </label>
        <label>
          Role you are applying for
          <input required type="text" id="role" placeholder="e.g., Sales Manager"/>
        </label>
        <label>
          Email
          <input required type="email" id="email" placeholder="e.g., alex@email.com"/>
        </label>

        <label class="checkbox">
          <input required type="checkbox" id="consent"/>
          <span>I understand that leaving this page will restart the test.</span>
        </label>
      </form>

      <div class="actions">
        <button id="startBtn" class="btn primary">Start Assessment</button>
        <button id="previewBtn" class="btn ghost">Preview Modules</button>
      </div>

      <div id="modulesPreview" class="preview hidden"></div>
    </section>

    <section id="testScreen" class="screen hidden">
      <div class="card">
        <div class="test-header">
          <div>
            <h2 id="moduleTitle"></h2>
            <p id="moduleDesc" class="muted"></p>
          </div>

          <div class="progress">
            <div class="progress-bar">
              <div id="progressFill" class="progress-fill"></div>
            </div>
            <span id="progressText" class="progress-text">0/50</span>
          </div>
        </div>

        <div id="questionWrap" class="question-wrap"></div>

        <div class="nav">
          <button id="prevBtn" class="btn ghost">Back</button>
          <button id="nextBtn" class="btn primary">Next</button>
        </div>
      </div>
    </section>

    <section id="resultsScreen" class="screen hidden">
      <div class="card">
        <div class="results-header">
          <div>
            <h2>Results</h2>
            <p class="muted" id="candidateSummary"></p>
          </div>
          <div class="actions">
            <button id="downloadHtmlBtn" class="btn primary">Download Results</button>
            <button id="downloadJsonBtn" class="btn ghost">Download JSON</button>
            <button id="restartBtn" class="btn danger">Restart</button>
          </div>
        </div>

        <h3>Competencies (100% = ideal benchmark)</h3>
        <div id="competencyResults" class="results-grid"></div>

        <h3>Big Five Personality (expression level, not “good or bad”)</h3>
        <div id="personalityResults" class="results-grid"></div>

        <div class="note">
          <strong>Note:</strong> High or low personality scores are not automatically positive or negative.
          We interpret them as style indicators that help match you to the role and team.
        </div>
      </div>
    </section>

    <div id="resetModal" class="modal hidden">
      <div class="modal-card">
        <h3>Test Restarted</h3>
        <p>
          You left the page or switched tabs.
          As stated, the assessment must restart to keep results fair.
        </p>
        <button id="modalOkBtn" class="btn primary">OK</button>
      </div>
    </div>

    <footer class="footer muted">
      © Sineva Group — Internal Recruitment Assessment
    </footer>
  </main>

  <!-- IMPORTANT: file name MUST be exactly script.js -->
  <script src="script.js"></script>
</body>
</html>
